{"ast":null,"code":"import { Navigate } from \"react-router-dom\";\nimport axios from 'axios';\nexport const Login = (email, password, password_confirmation) => {\n  const url = 'http://localhost:3000/login';\n  return axios.post(url, {\n    email: email,\n    password: password,\n    password_confirmation: password_confirmation\n  }, {\n    withCredentials: true\n  }).then(function (response) {\n    var _res;\n\n    if (((_res = res) === null || _res === void 0 ? void 0 : _res.data.logged_in) === true) {\n      var _res2;\n\n      setIsSignedIn(true); //ログインuserがいたらtrue\n\n      setCurrentUser((_res2 = res) === null || _res2 === void 0 ? void 0 : _res2.data.user); //ログインuserをセット\n    } else {\n      console.log('no current user');\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n}; // セッションのあるユーザーを返す\n\n_c = Login;\nexport const getCurrentUser = () => {\n  const url = 'http://localhost:3000/login';\n  return axios.get(url, {\n    withCredentials: true\n  }).then(function (response) {\n    return response;\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Navigate","axios","Login","email","password","password_confirmation","url","post","withCredentials","then","response","res","data","logged_in","setIsSignedIn","setCurrentUser","user","console","log","catch","error","getCurrentUser","get"],"sources":["/Users/kei_matsuoka/Developments/codeflash/frontend/src/apis/login.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\";\nimport axios from 'axios';\n\nexport const Login = (email, password, password_confirmation) => {\n  const url = 'http://localhost:3000/login';\n  return axios.post(url, {\n    email: email,\n    password: password,\n    password_confirmation: password_confirmation\n  },{ withCredentials: true })\n    .then(function (response) {\n      if (res?.data.logged_in === true) {\n        setIsSignedIn(true);//ログインuserがいたらtrue\n        setCurrentUser(res?.data.user);//ログインuserをセット\n      } else {\n        console.log('no current user');\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\n// セッションのあるユーザーを返す\nexport const getCurrentUser = () => {\n  const url = 'http://localhost:3000/login';\n  return axios.get(url,{ withCredentials: true })\n    .then(function (response) {\n      return response;\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,qBAAlB,KAA4C;EAC/D,MAAMC,GAAG,GAAG,6BAAZ;EACA,OAAOL,KAAK,CAACM,IAAN,CAAWD,GAAX,EAAgB;IACrBH,KAAK,EAAEA,KADc;IAErBC,QAAQ,EAAEA,QAFW;IAGrBC,qBAAqB,EAAEA;EAHF,CAAhB,EAIL;IAAEG,eAAe,EAAE;EAAnB,CAJK,EAKJC,IALI,CAKC,UAAUC,QAAV,EAAoB;IAAA;;IACxB,IAAI,SAAAC,GAAG,UAAH,oCAAKC,IAAL,CAAUC,SAAV,MAAwB,IAA5B,EAAkC;MAAA;;MAChCC,aAAa,CAAC,IAAD,CAAb,CADgC,CACZ;;MACpBC,cAAc,UAACJ,GAAD,0CAAC,MAAKC,IAAL,CAAUI,IAAX,CAAd,CAFgC,CAED;IAChC,CAHD,MAGO;MACLC,OAAO,CAACC,GAAR,CAAY,iBAAZ;IACD;EACF,CAZI,EAaJC,KAbI,CAaE,UAAUC,KAAV,EAAiB;IACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ;EACD,CAfI,CAAP;AAgBD,CAlBM,C,CAoBP;;KApBalB,K;AAqBb,OAAO,MAAMmB,cAAc,GAAG,MAAM;EAClC,MAAMf,GAAG,GAAG,6BAAZ;EACA,OAAOL,KAAK,CAACqB,GAAN,CAAUhB,GAAV,EAAc;IAAEE,eAAe,EAAE;EAAnB,CAAd,EACJC,IADI,CACC,UAAUC,QAAV,EAAoB;IACxB,OAAOA,QAAP;EACD,CAHI,EAIJS,KAJI,CAIE,UAAUC,KAAV,EAAiB;IACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ;EACD,CANI,CAAP;AAOD,CATM"},"metadata":{},"sourceType":"module"}